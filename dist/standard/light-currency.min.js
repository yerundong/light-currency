/**
 * light-currency - v1.0.36
 * https://github.com/yerundong/light-currency.git
 * 
 * Copyright (c) 2022 yerundong
 * Released under MIT license
 */

!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).Currency=n()}(this,function(){"use strict";function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var e,n,t,a=function(){function i(e,n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i);e=u(e);this.number=e.number,this.value=e.value,this.isNaN=e.isNaN,this.config=Object.assign({},i.config,n)}var e,n,t;return e=i,t=[{key:"setConfig",value:function(e){return Object.assign(i.config,e),i}},{key:"getInstance",value:function(e,n){return new i(e,n)}},{key:"parse",value:function(e,n){return new i(u(e,n).value)}},{key:"extend",value:function(e){var n=p(e);if("Object"===n){var r=e.handler;i.prototype[e.name]=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return r.apply(this,n)}}else if("Array"===n)for(var t,a=0;t=e[a];a++)!function(e){var r=e.handler;i.prototype[e.name]=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return r.apply(this,n)}}(t)}}],(n=[{key:"setConfig",value:function(e){return Object.assign(this.config,e),this}},{key:"setValue",value:function(e){e=u(e);return this.number=e.number,this.value=e.value,this.isNaN=e.isNaN,this}},{key:"format",value:function(e){var n=Object.assign({},this.config,e),t=n.prefix,r=n.decimalSeparator,a=n.groupSeparator,i=n.groupSize,u=n.suffix,o="",c=this.value;if(/^-/.test(c)&&(o="-",c=c.replace(/^-/,"")),/\d/g.test(c)){var e=c.split("."),n=e[0],e=e[1],l=n.split("").reverse(),f=[];if("Number"===p(i)&&0<i){for(var s=i;s<l.length;s+=i)f.push(s);for(var v=0;v<f.length;v++)l.splice(f[v]+v,0,a)}n=l.reverse().join("");return(e?"".concat(o).concat(t).concat(n).concat(r).concat(e):"".concat(o).concat(t).concat(n)).concat(u)}return"".concat(o).concat(t).concat(c).concat(u)}}])&&r(e.prototype,n),t&&r(e,t),i}();function p(e){return Object.prototype.toString.call(e).slice(8,-1)}function u(e,n){var t=p(e),r={number:null,value:null,isNaN:null};return"Number"===t?(r.number=e,Object.is(e,-0)?r.value="-0":r.value=e.toString()):"String"===t?(n=function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(/Infinity/.test(e))return/-.*(?=Infinity)/.test(e)?{number:-1/0,value:"-Infinity"}:{number:1/0,value:"Infinity"};var t=n.decimalSeparator||".",n=new RegExp("[^\\d\\".concat(t,"-]|\\").concat(t,"(?=.*\\").concat(t,")"),"g"),t=new RegExp("\\".concat(t),"g");n=e.replace(n,"").replace(t,".");t=/^-/.test(n)?"-":"";return function(e){if(["String","Number"].includes(p(e))&&""!==e){e=Number(e);return Number.isNaN(e)?void 0:1}}(n=n.replace(/-/g,""))?(n=n.replace(/^0+(?=.)|\.+$/g,"").replace(/^\.+/,"0."),n=t+n,{number:Number(n),value:n}):{number:NaN,value:"NaN"}}(e,n),r.number=n.number,r.value=n.value):(r.number=NaN,r.value="NaN"),r.isNaN=Number.isNaN(r.number),r}return t={prefix:"$",decimalSeparator:".",groupSeparator:",",groupSize:3,suffix:""},(n="config")in(e=a)?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,a});
